{"version":3,"sources":["webpack:///./src/app/app.module.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/webcomponents/datatable/index.ts","webpack:///./src/app/webcomponents/datatable/datatable.module.ts","webpack:///./src/app/webcomponents/datatable/datatable.component.ts","webpack:///./src/app/webcomponents/datatable/classes/datasource.class.ts"],"names":[],"mappings":"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","file":"js/app.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\n// components\nimport { AppComponent } from './app.component';\n\n// modules\nimport DataTableModule from './webcomponents/datatable';\n// import DataTableComponent from './webcomponents/datatable';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    DataTableModule\n  ],\n  bootstrap: [ AppComponent ]\n})\nclass AppModule {}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/app.module.ts\n **/","import { Component } from '@angular/core';\n\n// components\nimport DataTableComponent from './webcomponents/datatable';\n\n@Component({\n    selector: 'app',\n    template: `\n        <div>\n          <data-table\n            [columns]=\"datatable.columns\"\n            [data]=\"datatable.data\"\n            [rowsPerPage]=\"3\"\n          ></data-table>\n        </div>\n    `\n})\nexport class AppComponent {\n  datatable: any;\n\n  constructor() {\n    this.datatable = {\n      columns: [\n        {\n          name: 'column 1'\n        },\n        {\n          name: 'column 2'\n        },\n        {\n          name: 'column 3'\n        }\n      ],\n      data: [\n        [1,6,'asd'],\n        [0,1,'dfg'],\n        [3,4,'sdgsg'],\n        [7,6,'weeg'],\n        [0,9,'dsgsdg'],\n        [1,2,'wetth'],\n        [6,7,'dsfg'],\n        [4,3,'sdgfv'],\n        [8,4,'oiifd']\n      ]\n    };\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/app.component.ts\n **/","import { DataTableModule } from './datatable.module';\n\nexport default DataTableModule;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/webcomponents/datatable/index.ts\n **/","import { NgModule } from '@angular/core';\n\nimport { DataTableComponent } from './datatable.component';\n\n@NgModule({\n  declarations: [\n    DataTableComponent\n  ]\n})\nexport class DataTableModule {}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/webcomponents/datatable/datatable.module.ts\n **/","import {\n  Component,\n  Input,\n  OnInit\n} from '@angular/core';\n\n// interfaces\nimport { IColumn } from './interfaces/column.interface';\n\n// classes\nimport { DataSource } from './classes/datasource.class';\nimport { Pager } from './classes/pager.class';\n\ninterface DataTableOptionsInterface {\n  rowsPerPage?: number;\n  order?: {\n    column: number;\n    dir: string;\n  },\n  applyStyles?: boolean;\n}\n\n@Component ({\n  selector: 'data-table',\n  inputs: [\n    'columns',\n    'data'\n  ],\n  template: `\n    <div class=\"data-table-header\">\n      <button (click)=\"setFilter()\">Filter</button>\n      <button (click)=\"changeData()\">Change</button>\n    </div>\n    <div class=\"data-table\">\n      <table>\n        <thead>\n          <tr>\n            <td *ngFor=\"let column of columns\"\n                (click)=\"orderBy(column.data)\">\n                {{column.name}}\n            </td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let values of getData()\">\n            <td *ngFor=\"let value of values\">{{value}}</td>\n          <tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"data-table-footer\">\n      <div class=\"data-table_paginator\">\n        <ul>\n          <li>\n            <button (click)=\"nextPage()\"> >> </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `\n})\nexport class DataTableComponent implements OnInit {\n  private columns: Array<IColumn>;\n  private data: Array<any>;\n  private options: DataTableOptionsInterface;\n  private dataSource: DataSource;\n  private pager: Pager;\n  private currentPage: number = 0;\n  @Input() private rowsPerPage: number;\n\n  constructor() {}\n\n  ngOnInit() {\n    this.columns.map((col, index) => {\n      col.data = index;\n      return col;\n    })\n    this.dataSource = new DataSource(this.data);\n    console.log(this.currentPage);\n    // this.pager = new Pager({\n    //   currentPage: this.currentPage,\n    //   rowsPerPage: this.rowsPerPage\n    // });\n  }\n\n  orderBy(column) {\n    this.dataSource.orderBy(column);\n  }\n\n  getData() {\n    let newData = this.dataSource.getData().slice(this.currentPage*3, this.currentPage*3 + 3);\n    return newData;\n  }\n\n  changeData() {\n    this.dataSource.changeData();\n  }\n\n  nextPage() {\n    this.currentPage++;\n  }\n\n  setFilter() {\n    this.dataSource.setFilter({column:0, search: 0});\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/webcomponents/datatable/datatable.component.ts\n **/","\n\ninterface DataSourceOptions {\n  rowsPerPage?: number;\n  currentPage?: number;\n  order?: {\n    column: number;\n    dir: string;\n  };\n}\n\nexport class DataSource {\n  static ORDER_ASC = 'asc';\n  static ORDER_DESC = 'desc';\n\n  private options: DataSourceOptions = {\n    rowsPerPage: 15,\n    currentPage: 1,\n    order: {\n      column: 0,\n      dir: DataSource.ORDER_ASC\n    }\n  };\n  private resultData: Array<any>;\n\n  constructor(\n    private data: Array<any>,\n    options?: DataSourceOptions\n  ) {\n    this.resultData = this.data.slice();\n    if (options) this.options = Object.assign({}, this.options, options);\n  }\n\n  orderBy(column, dir?: string) {\n    let currentOrder = this.getOption('order'),\n        orderDirection = dir || DataSource.ORDER_ASC;\n    if (currentOrder) {\n      orderDirection = currentOrder.column !== column ? dir || DataSource.ORDER_ASC : dir || this._toggleSortDirection(currentOrder.dir);\n    }\n    this.setOptions({\n      order: {\n        column: column,\n        dir: orderDirection\n      }\n    });\n    this._sort(column, orderDirection);\n  }\n\n  setFilter(args: any) {\n    this.resultData = this.data.filter((element, index, array) => {\n        return element[args.column] === args.search;\n    });\n  }\n\n  setOptions(options: DataSourceOptions) {\n    this.options = Object.assign({}, this.options, options);\n  }\n\n  getOption(option) {\n    return this.options[option];\n  }\n\n  getData() {\n    console.log('getData');\n    return this.resultData;\n  }\n\n  getDataTotalLength() {\n    return this.data.length;\n  }\n\n  getPageNumber() {\n    let rowsPerPage = this.getOption('rowsPerPage'),\n        dataLength = this.getDataTotalLength();\n    return Math.ceil(dataLength/rowsPerPage);\n  }\n\n  changeData() {\n    this.resultData = [\n      [1,6,'asd'],\n      [0,1,'zzzzzz'],\n      [3,4,'sdgsg']\n    ]\n  }\n\n  private _sort(column, dir) {\n    this.resultData.sort((a,b) => {\n      switch (dir) {\n        case DataSource.ORDER_ASC:\n          return a[column] - b[column];\n        case DataSource.ORDER_DESC:\n          return b[column] - a[column];\n        default:\n          return a[column] - b[column];\n      }\n    });\n  }\n\n  private _toggleSortDirection(dir) {\n    if (dir === DataSource.ORDER_ASC) return DataSource.ORDER_DESC;\n    return DataSource.ORDER_ASC;\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app/webcomponents/datatable/classes/datasource.class.ts\n **/"],"sourceRoot":""}